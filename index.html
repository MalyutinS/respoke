<!-- Copyright 2014, Digium, Inc.--><!-- All rights reserved.--><!----><!-- This source code is licensed under The MIT License found in the--><!-- LICENSE file in the root directory of this source tree.--><!----><!-- For all details and documentation:  https://www.respoke.io--><!DOCTYPE html><html><head><title>respoke/respoke.js - respoke</title><link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.2.0/css/bootstrap.min.css"><link rel="stylesheet" href="https://highlightjs.org/static/styles/github.css"><script src="http://ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script><script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.2.0/js/bootstrap.min.js"></script><script src="https://highlightjs.org/static/highlight.pack.js"></script><style type="text/css">#navi { z-index: 1000; max-height: 99%; overflow-y: auto; overflow-x: hidden; }
#navi .nav>li>a { padding: 3px 15px; display: inline-block; }
#navi.show { max-height: 400px; }
#navi.show #menu { background: #fff; border: 1px solid #ccc; border-radius: 5px; padding: 8px; display: block!important; }
.wrap { word-break: break-all; }</style></head><body style="position:relative" data-spy="scroll" data-target="#navi"><div id="navi" class="affix col-sm-3"><button onclick="$('#navi').toggleClass('show')" class="btn btn-default visible-xs">Menu</button><div id="menu" class="hidden-xs"><br class="hidden-xs"><ul role="tablist" class="nav nav-pills nav-stacked"><li>Properties &amp; Methods</li><li><a href="#respoke">respoke</a></li><li><a href="#version">version</a></li><li><a href="#connect">connect</a></li><li><a href="#getClient">getClient</a></li><li><a href="#createClient">createClient</a></li><li><a href="#hasUserMedia">hasUserMedia</a></li><li><a href="#hasRTCPeerConnection">hasRTCPeerConnection</a></li><li><a href="#hasWebsocket">hasWebsocket</a></li><li><a href="#clone">clone</a></li><li><a href="#isEqual">isEqual</a></li><li><a href="#sdpHasAudio">sdpHasAudio</a></li><li><a href="#sdpHasVideo">sdpHasVideo</a></li><li><a href="#sdpHasDataChannel">sdpHasDataChannel</a></li><li><a href="#constraintsHasAudio">constraintsHasAudio</a></li><li><a href="#constraintsHasVideo">constraintsHasVideo</a></li></ul></div></div><div id="header" role="navigation" class="nav navbar navbar-default"><div class="container-fluid"><div class="navbar-header"><a href="/respoke" class="navbar-brand">Respoke.js</a><button id="file-menu" data-toggle="collapse" data-target="#navbar-links" class="navbar-toggle collapsed"><span class="icon-bar"></span><span class="icon-bar"></span><span class="icon-bar"></span></button></div><div id="navbar-links" class="collapse navbar-collapse"><ul class="nav navbar-nav"><li><a href="respoke.Call.html">Call</a></li><li><a href="respoke.Client.html">Client</a></li><li><a href="respoke.Connection.html">Connection</a></li><li><a href="respoke.DirectConnection.html">DirectConnection</a></li><li><a href="respoke.Endpoint.html">Endpoint</a></li><li><a href="respoke.EventEmitter.html">EventEmitter</a></li><li><a href="respoke.Group.html">Group</a></li><li><a href="respoke.LocalMedia.html">LocalMedia</a></li><li><a href="respoke.Presentable.html">Presentable</a></li><li><a href="respoke.RemoteMedia.html">RemoteMedia</a></li><li><a href="respoke.MediaStats.html">MediaStats</a></li></ul></div></div></div><div class="col-sm-9 col-sm-offset-3"><br class="visible-xs"><h1>respoke</h1><h5 class="help-block">from respoke/respoke.js</h5><div id="respoke" class="comment"><div><p><code>respoke</code> is a global static class.</p>
<p>Include the <a href="https://cdn.respoke.io/respoke.min.js">latest version</a> or
<a href="http://cdn.respoke.io/list.html">choose a previous release</a>.</p>
<p>Or use <code>npm install --save respoke</code>.</p>
<p>Interact with Respoke primarily via <a href="respoke.Client.html"><code>respoke.Client</code></a>:</p>
<pre><code> var client = respoke.createClient();
</code></pre><p><strong>Development mode without brokered auth</strong></p>
<pre><code> var client = respoke.createClient({
     appId: &quot;XXXXXXX-my-app-id-XXXXXX&quot;,
     developmentMode: true,
     endpointId: &quot;billy&quot;
 });

 client.listen(&#39;connect&#39;, function () {
     console.log(&#39;connected to respoke!&#39;);
 });

 client.listen(&#39;error&#39;, function (err) {
     console.error(&#39;Connection to Respoke failed.&#39;, err);
 });

 client.connect();
</code></pre><p><strong>Production mode with brokered auth</strong></p>
<pre><code> var client = respoke.createClient();

 client.listen(&#39;connect&#39;, function () {
     console.log(&#39;connected to respoke!&#39;);
 });

 client.listen(&#39;error&#39;, function (err) {
     console.error(&#39;Connection to Respoke failed.&#39;, err);
 });

 // Respoke auth token obtained by your server.
 // This is how you control who can connect to Respoke app.
 // See API docs for POST [base]/tokens
 var tokenId = &quot;XXXX-XXXX-brokered-auth-token-XXXXX&quot;;

 // connect to respoke with the token
 client.connect({
     token: tokenId
 });

 // fetch a new token from your server if it expires
 client.listen(&#39;disconnect&#39;, function (evt) {
     // fetch another token from your server.
     var newTokenId = &quot;XXXX-XXXX-brokered-auth-token2-XXXXX&quot;;
     client.connect({
         token: newTokenId
     });
 });
</code></pre><h3 id="event-listeners-vs-callback-handlers">Event listeners vs callback handlers</h3>
<p>There are two ways to attach listeners. It is highly recommended that you choose one pattern
and stick to it throughout your app.</p>
<p>For every <code>event-name</code>, there is a corresponding callback <code>onEventName</code>.</p>
<p><strong>With a listener</strong></p>
<pre><code> var client = respoke.createClient();
 client.listen(&#39;connect&#39;, function () { });
</code></pre><p><strong>or with a callback</strong></p>
<pre><code> var client = respoke.createClient({
     // other options go here

     onConnect: function () { }
 });
</code></pre></div><br><br><h2>Properties and Methods</h2></div><div id="version" class="comment"><h3><code>string</code><a href="#version" class="bold">version</a></h3><div><p><code>&quot;v0.0.0&quot;</code></p>
<p>The respoke.min.js version.</p>
<p>Past versions can be found at <a href="http://cdn.respoke.io/list.html">cdn.respoke.io/list.html</a></p>
</div><br><br></div><div id="connect" class="comment"><h3><a href="#connect"><span class="bold">connect(params)</span></a></h3><p><strong>returns<code>respoke.Client</code></strong></p><div><p>This is one of two possible entry points for interating with the library.</p>
<p>This method creates a new Client object
which represents your user&#39;s connection to your Respoke app.</p>
<p>This method <strong>automatically calls client.connect(params)</strong> after the client is created.</p>
</div><br><h4>Arguments</h4><div class="row hidden-xs param"><div class="col-sm-4">Name</div><div class="col-sm-3">Type</div><div class="col-sm-5"></div></div><div class="row param"><div class="col-sm-4 wrap"><code>params</code></div><div class="col-sm-3 wrap"><small><strong>object</strong></small></div><div class="col-sm-5">Parameters to the respoke.Client constructor.</div></div><br class="visible-xs"><div class="row param"><div class="col-sm-4 wrap"><code>[params.appId]</code></div><div class="col-sm-3 wrap"><small><strong>string</strong></small></div><div class="col-sm-5"></div></div><br class="visible-xs"><div class="row param"><div class="col-sm-4 wrap"><code>[params.baseURL]</code></div><div class="col-sm-3 wrap"><small><strong>string</strong></small></div><div class="col-sm-5"></div></div><br class="visible-xs"><div class="row param"><div class="col-sm-4 wrap"><code>[params.token]</code></div><div class="col-sm-3 wrap"><small><strong>string</strong></small></div><div class="col-sm-5"></div></div><br class="visible-xs"><div class="row param"><div class="col-sm-4 wrap"><code>[params.presence]</code></div><div class="col-sm-3 wrap"><small><strong>string, number, object, Array</strong></small></div><div class="col-sm-5">The initial presence to set once connected.</div></div><br class="visible-xs"><div class="row param"><div class="col-sm-4 wrap"><code>[params.developmentMode=false]</code></div><div class="col-sm-3 wrap"><small><strong>boolean</strong></small></div><div class="col-sm-5">Indication to obtain an authentication token from the service.
Note: Your app must be in developer mode to use this feature. This is not intended as a long-term mode of
operation and will limit the services you will be able to use.</div></div><br class="visible-xs"><div class="row param"><div class="col-sm-4 wrap"><code>[params.reconnect=false]</code></div><div class="col-sm-3 wrap"><small><strong>boolean</strong></small></div><div class="col-sm-5">Whether or not to automatically reconnect to the Respoke service
when a disconnect occurs.</div></div><br class="visible-xs"><div class="row param"><div class="col-sm-4 wrap"><code>[params.onSuccess]</code></div><div class="col-sm-3 wrap"><small><strong>function</strong></small></div><div class="col-sm-5">Success handler for this invocation of this method only.</div></div><br class="visible-xs"><div class="row param"><div class="col-sm-4 wrap"><code>[params.onError]</code></div><div class="col-sm-3 wrap"><small><strong>function</strong></small></div><div class="col-sm-5">Error handler for this invocation of this method only.</div></div><br class="visible-xs"><div class="row param"><div class="col-sm-4 wrap"><code>[params.onJoin]</code></div><div class="col-sm-3 wrap"><small><strong>function</strong></small></div><div class="col-sm-5">Callback for when this client's endpoint joins a group.</div></div><br class="visible-xs"><div class="row param"><div class="col-sm-4 wrap"><code>[params.onLeave]</code></div><div class="col-sm-3 wrap"><small><strong>function</strong></small></div><div class="col-sm-5">Callback for when this client's endpoint leaves a group.</div></div><br class="visible-xs"><div class="row param"><div class="col-sm-4 wrap"><code>[params.onMessage]</code></div><div class="col-sm-3 wrap"><small><strong>function</strong></small></div><div class="col-sm-5">Callback for when any message is received from anywhere on the system.</div></div><br class="visible-xs"><div class="row param"><div class="col-sm-4 wrap"><code>[params.onDisconnect]</code></div><div class="col-sm-3 wrap"><small><strong>function</strong></small></div><div class="col-sm-5">Callback for Client disconnect.</div></div><br class="visible-xs"><div class="row param"><div class="col-sm-4 wrap"><code>[params.onReconnect]</code></div><div class="col-sm-3 wrap"><small><strong>function</strong></small></div><div class="col-sm-5">Callback for Client reconnect. Not Implemented.</div></div><br class="visible-xs"><div class="row param"><div class="col-sm-4 wrap"><code>[params.onCall]</code></div><div class="col-sm-3 wrap"><small><strong>function</strong></small></div><div class="col-sm-5">Callback for when this client's user receives a call.</div></div><br class="visible-xs"><div class="row param"><div class="col-sm-4 wrap"><code>[params.onDirectConnection]</code></div><div class="col-sm-3 wrap"><small><strong>function</strong></small></div><div class="col-sm-5">Callback for when this client's user receives a request for a
direct connection.</div></div><br class="visible-xs"><div class="row param"><div class="col-sm-4 wrap"><code>[params.enableCallDebugReport=true]</code></div><div class="col-sm-3 wrap"><small><strong>boolean</strong></small></div><div class="col-sm-5">Optional flag defaulting to true which allows sending
debugging information.</div></div><br class="visible-xs"><br><br></div><div id="getClient" class="comment"><h3><a href="#getClient"><span class="bold">getClient(id)</span></a></h3><p><strong>returns<code>respoke.Client</code></strong></p><div><p>Getter for the respoke client.</p>
<p>You can have more than one active client, so this method provides a way to retrieve a specific instance.</p>
</div><br><h4>Arguments</h4><div class="row hidden-xs param"><div class="col-sm-4">Name</div><div class="col-sm-3">Type</div><div class="col-sm-5"></div></div><div class="row param"><div class="col-sm-4 wrap"><code>id</code></div><div class="col-sm-3 wrap"><small><strong>number</strong></small></div><div class="col-sm-5">The Client ID.</div></div><br class="visible-xs"><br><br></div><div id="createClient" class="comment"><h3><a href="#createClient"><span class="bold">createClient(params)</span></a></h3><p><strong>returns<code>respoke.Client</code></strong></p><div><p>This is one of two possible entry points for interating with the library.</p>
<p>This method creates a new Client object which represents your user&#39;s connection to your Respoke app.</p>
<p>It <strong>does NOT automatically call the client.connect() method</strong> after the client is created.</p>
<p>The <code>params</code> argument is the same as <code>respoke.connect(params)</code>.</p>
</div><br><h4>Arguments</h4><div class="row hidden-xs param"><div class="col-sm-4">Name</div><div class="col-sm-3">Type</div><div class="col-sm-5"></div></div><div class="row param"><div class="col-sm-4 wrap"><code>params</code></div><div class="col-sm-3 wrap"><small><strong>object</strong></small></div><div class="col-sm-5">Parameters to respoke.Client same as respoke.connect()</div></div><br class="visible-xs"><br><br></div><div id="hasUserMedia" class="comment"><h3><a href="#hasUserMedia"><span class="bold">hasUserMedia()</span></a></h3><p><strong>returns<code>boolean</code></strong></p><div><p>Does the browser support <code>UserMedia</code>?</p>
</div><br><br></div><div id="hasRTCPeerConnection" class="comment"><h3><a href="#hasRTCPeerConnection"><span class="bold">hasRTCPeerConnection()</span></a></h3><p><strong>returns<code>boolean</code></strong></p><div><p>Does the browser support <code>RTCPeerConnection</code>?</p>
</div><br><br></div><div id="hasWebsocket" class="comment"><h3><a href="#hasWebsocket"><span class="bold">hasWebsocket()</span></a></h3><p><strong>returns<code>boolean</code></strong></p><div><p>Does the browser support <code>WebSocket</code>?</p>
</div><br><br></div><div id="clone" class="comment"><h3><a href="#clone"><span class="bold">clone(source)</span></a></h3><p><strong>returns<code>Object</code></strong></p><div><p>Clone an object.</p>
</div><br><h4>Arguments</h4><div class="row hidden-xs param"><div class="col-sm-4">Name</div><div class="col-sm-3">Type</div><div class="col-sm-5"></div></div><div class="row param"><div class="col-sm-4 wrap"><code>source</code></div><div class="col-sm-3 wrap"><small><strong>Object</strong></small></div><div class="col-sm-5">The object to clone</div></div><br class="visible-xs"><br><br></div><div id="isEqual" class="comment"><h3><a href="#isEqual"><span class="bold">isEqual(a, b)</span></a></h3><p><strong>returns<code>boolean</code></strong></p><div><p>Compares two objects for equality</p>
</div><br><h4>Arguments</h4><div class="row hidden-xs param"><div class="col-sm-4">Name</div><div class="col-sm-3">Type</div><div class="col-sm-5"></div></div><div class="row param"><div class="col-sm-4 wrap"><code>a</code></div><div class="col-sm-3 wrap"><small><strong>Object</strong></small></div><div class="col-sm-5"></div></div><br class="visible-xs"><div class="row param"><div class="col-sm-4 wrap"><code>b</code></div><div class="col-sm-3 wrap"><small><strong>Object</strong></small></div><div class="col-sm-5"></div></div><br class="visible-xs"><br><br></div><div id="sdpHasAudio" class="comment"><h3><a href="#sdpHasAudio"><span class="bold">sdpHasAudio()</span></a></h3><p><strong>returns<code>boolean</code></strong></p><div><p>Does the sdp indicate an audio stream?</p>
</div><br><br></div><div id="sdpHasVideo" class="comment"><h3><a href="#sdpHasVideo"><span class="bold">sdpHasVideo()</span></a></h3><p><strong>returns<code>boolean</code></strong></p><div><p>Does the sdp indicate a video stream?</p>
</div><br><br></div><div id="sdpHasDataChannel" class="comment"><h3><a href="#sdpHasDataChannel"><span class="bold">sdpHasDataChannel()</span></a></h3><p><strong>returns<code>boolean</code></strong></p><div><p>Does the sdp indicate a data channel?</p>
</div><br><br></div><div id="constraintsHasAudio" class="comment"><h3><a href="#constraintsHasAudio"><span class="bold">constraintsHasAudio()</span></a></h3><p><strong>returns<code>boolean</code></strong></p><div><p>Does the sdp indicate an audio stream?</p>
</div><br><br></div><div id="constraintsHasVideo" class="comment"><h3><a href="#constraintsHasVideo"><span class="bold">constraintsHasVideo()</span></a></h3><p><strong>returns<code>boolean</code></strong></p><div><p>Does the constraints indicate a video stream?</p>
</div><br><br></div><p style="height:1000px"></p></div><script>hljs.initHighlightingOnLoad();
$(document).on('scroll', setSidebarPosition);
$(window).on('resize', setSidebarPosition);
$('#file-menu').on('click', function () {
  setTimeout(setSidebarPosition, 350);
});
function setSidebarPosition() {
  var s = $(document).scrollTop();
  var h = $('#header').height();
  if (s < h) {
      $('#navi').css('top', ((h - s) + 8) + 'px');
  } else {
      $('#navi').css('top', '0');
  }
}
setSidebarPosition();</script></body></html>